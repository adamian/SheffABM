<application>
  <name>Vision Driver</name>
 <!-- <module>
    <name>webcamToYarp</name>
    <parameters>/webcamOut</parameters>
    <node>localhost</node>
  </module> //-->
  <module>
  <name>visionDriver</name>
    <parameters>--from /home/icub/SheffABM/visionDriver/conf/config.ini</parameters>
    <node>localhost</node>
  </module>
  <module>
  <name>yarpview</name>
    <parameters>--name /faceImgView:i</parameters>
    <node>localhost</node>
  </module>
<!--  <module>
  <name>yarp</name>
    <parameters>read /readFaceInfo:i</parameters>
    <node>localhost</node>
  </module>//-->
  <module> 
  <name>iSpeak</name>
    <parameters>--package espeak --package_options "-ven+13 -p99 -s125"</parameters>
    <node>icubsrv</node>
  </module>
<!--  <module>
    <name>speechRecogniser</name>
    <parameters></parameters>
    <node>localhost</node>
  </module>//-->
  <module> 
  <name>yarpdatadumper</name>
    <parameters>--name /actionPosDump --type bottle --dir ./dataDump/actionData</parameters>
    <node>localhost</node>
  </module>
 <!-- <connection>
    <from>/webcamOut</from>
    <to>/inputPort</to>
    <protocol>udp</protocol>
  </connection> //-->
  <connection>
    <from>/icub/cam/left</from>
    <to>/visionDriver/image:i</to>
    <protocol>udp+recv.bayer+method.nearest+mjpeg</protocol>
  </connection>
  <connection>
    <from>/visionDriver/image:o</from>
    <to>/faceImgView:i</to>
    <protocol>udp</protocol>
  </connection>
  <connection>
    <from>/visionDriver/image:o</from>
    <to>/sam/face/imageData:i</to>
    <protocol>udp</protocol>
  </connection>
<!--  <connection>
    <from>/visionDriver/vector:o</from>
    <to>/readFaceInfo:i</to>
    <protocol>udp</protocol>
  </connection> //-->
<!--    <connection>
	<from>/faceTrackerImg:o</from>
    <to>/faceImgDump</to>
    <protocol>udp</protocol>
  </connection> //-->
  <connection>
    <from>/visionDriver/gaze:o</from>
    <to>/iKinGazeCtrl/mono:i</to>
    <protocol>udp</protocol>
  </connection>
  <connection>
    <from>/sam/face/facePrediction:o</from>
    <to>/iSpeak</to>
    <protocol>udp</protocol>
  </connection>
  <connection>
    <from>/sam/actions/actionPrediction:o</from>
    <to>/iSpeak</to>
    <protocol>udp</protocol>
  </connection>
  <connection>
    <from>/sam/face/speakStatus:i</from>
    <to>/iSpeak/rpc</to>
    <protocol>tcp</protocol>
  </connection>
  <connection>
    <from>/sam/actions/speakStatus:i</from>
    <to>/iSpeak/rpc</to>
    <protocol>tcp</protocol>
  </connection>
 <!-- <connection>
      <from>/sam/syncPort:o</from>
    <to>/visionDriver/sync:i</to>
    <protocol>tcp</protocol>
  </connection> //-->>
  <connection>
    <from>/asr_write:o</from>
    <to>/speechInteraction:i</to>
    <protocol>tcp</protocol>
  </connection>
  <connection>
    <from>/speechInteraction:o</from>
    <to>/iSpeak</to>
    <protocol>tcp</protocol>
  </connection>
  <connection>
    <from>/speechInteraction/behaviour:o</from>
    <to>/sam/face/interaction:i</to>
    <protocol>tcp</protocol>
  </connection>
  <connection>
    <from>/speechInteraction/behaviour:o</from>
    <to>/sam/actions/interaction:i</to>
    <protocol>tcp</protocol>
  </connection>
  <connection>
    <from>/visionDriver/bodyPartPosition:o</from>
    <to>/sam/actions/actionData:i</to>
    <protocol>tcp</protocol>
  </connection>
  <connection>
    <from>/visionDriver/bodyPartPosition:o</from>
    <to>/actionPosDump</to>
    <protocol>tcp</protocol>
  </connection>
  
</application>
